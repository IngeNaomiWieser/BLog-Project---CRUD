<div class="container">
  <h1><%= @post.title  %></h1>
  <p><%= @post.body %></p>
  <p><%= @post.created_at  %></p>

  <p><strong>Category:</strong> <%= @post.category&.name %></p>
  <%= link_to 'Delete', post_path(@post),
                        method: :delete,
                        data: { confirm: 'Are you sure?' } %>

  <h1>Comments<h2>

  <% if @comment.errors.any? %>
    <%= @comment.errors.full_messages.join(', ') %>
  <% end %>

  <%= form_for([@post, @comment], class: "col-sm-offset-1 col-sm-10") do |f| %>
    <h3>Leave a comment...</h3>
    <div class="form-group row comment_div">
      <%= f.text_area :body, class: 'comment_form col-xs-12', rows: '5' %>
    </div>
    <div class="form-group row">
      <%= f.submit :submit, class: "btn btn-primary"%>
    </div>
  <% end %>

  <% @post.comments.each do |comment| %>
    <div>
      <p><%= comment.body %></p>
      <%= link_to 'Delete comment',
              [@post, comment],
              method: :delete,
              data: { confirm: 'Are you sure?'}
      %>
      <hr />
    </div>
  <% end %>

</div>
